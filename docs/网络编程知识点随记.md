# 网络编程知识点随记

* SIGCHLD信号：子进程结束运行，其父进程会收到SIGCHLD信号。该信号的默认处理动作是忽略。可以捕捉该信号，在捕捉函数中完成子进程状态的回收
* accept2返回EMFILE的处理：
  * 调高进程文件描述符的数量
  * 死等
  * 退出程序
  * 关闭监听套接字
  * 如果是epoll模型，可以改用ET模式。问题：漏掉一次accept2，程序再也不会收到新的连接
  * **准备一个空闲的文件描述符。遇到这种情况，先关闭这个空闲的文件描述符，此时获得一个文件描述符名额，再次accept（2）就可以拿到这个socket连接的文件描述符，此时再关闭close文件描述符，就可以做到优雅关闭；最后重新打开这个文件描述符，以备下次再次出现这种情况使用**